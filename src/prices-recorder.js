// test-trading-script is a price-history-analysis-script
const LocalState = require("./local-state.js");
const KrakenExchangeProvider = require("./kraken-ex-provider.js");

const state = new LocalState("cli-state");
const kraken = new KrakenExchangeProvider(require("../.env.json").KRAKEN_CREDENTIALS, state);

async function fetchStorePrices() {
  const pairs = getPairs();
  console.log("Started recording prices");

  for (const pair of pairs) {
    try {
      await kraken.currentPrices(pair);
      // console.log(`Added new prices to ${pair}`);
    } catch (error) {
      console.log(`Error with ${pair}`, error.message);
    }
  }

  console.log("Finish recording prices, will start again after 5 mins");
  setTimeout(fetchStorePrices, 60000 * 5);
}

function getPairs() {
  return [
    "1INCHEUR",
    "AAVEEUR",
    "ACAEUR",
    "ADAEUR",
    "ADXEUR",
    "AGLDEUR",
    "AKTEUR",
    "ALGOEUR",
    "ALICEEUR",
    "ALPHAEUR",
    "ALTEUR",
    "ANTEUR",
    "API3EUR",
    "APTEUR",
    "ARBEUR",
    "ARKMEUR",
    "ARPAEUR",
    "ATLASEUR",
    "ATOMEUR",
    "AUDIOEUR",
    "AXSEUR",
    "BADGEREUR",
    "BALEUR",
    "BANDEUR",
    "BATEUR",
    "BCHEUR",
    "BEAMEUR",
    "BICOEUR",
    "BIGTIMEEUR",
    "BLUREUR",
    "BLZEUR",
    "BNCEUR",
    "BNTEUR",
    "BOBAEUR",
    "BODENEUR",
    "BONDEUR",
    "BONKEUR",
    "BRICKEUR",
    "BSXEUR",
    "BTCEUR",
    "BTTEUR",
    "C98EUR",
    "CELREUR",
    "CFGEUR",
    "CHREUR",
    "CHZEUR",
    "COMPEUR",
    "COTIEUR",
    "CRVEUR",
    "CSMEUR",
    "CTSIEUR",
    "CVCEUR",
    "CVXEUR",
    "DAIEUR",
    "DASHEUR",
    "DENTEUR",
    "DOTEUR",
    "DYDXEUR",
    "DYMEUR",
    "EGLDEUR",
    "ENAEUR",
    "ENJEUR",
    "ENSEUR",
    "EOSEUR",
    "ETCEUR",
    "ETHEUR",
    "ETHFIEUR",
    "ETHWEUR",
    "EULEUR",
    "EURTEUR",
    "EWTEUR",
    "FARMEUR",
    "FETEUR",
    "FIDAEUR",
    "FILEUR",
    "FISEUR",
    "FLOKIEUR",
    "FLOWEUR",
    "FLREUR",
    "FORTHEUR",
    "FTMEUR",
    "FXSEUR",
    "GALAEUR",
    "GALEUR",
    "GARIEUR",
    "GHSTEUR",
    "GLMREUR",
    "GMTEUR",
    "GMXEUR",
    "GNOEUR",
    "GRTEUR",
    "GSTEUR",
    "GTCEUR",
    "HDXEUR",
    "HFTEUR",
    "HNTEUR",
    "HONEYEUR",
    "ICPEUR",
    "ICXEUR",
    "IDEXEUR",
    "IMXEUR",
    "INJEUR",
    "INTREUR",
    "JASMYEUR",
    "JUNOEUR",
    "JUPEUR",
    "KAREUR",
    "KAVAEUR",
    "KEEPEUR",
    "KEYEUR",
    "KINEUR",
    "KINTEUR",
    "KNCEUR",
    "KP3REUR",
    "KSMEUR",
    "KUJIEUR",
    "LCXEUR",
    "LDOEUR",
    "LINKEUR",
    "LMWREUR",
    "LPTEUR",
    "LSKEUR",
    "LTCEUR",
    "LUNA2EUR",
    "LUNAEUR",
    "MANAEUR",
    "MASKEUR",
    "MATICEUR",
    "MCEUR",
    "MINAEUR",
    "MIREUR",
    "MKREUR",
    "MNGOEUR",
    "MNTEUR",
    "MOONEUR",
    "MOVREUR",
    "MPLEUR",
    "MSOLEUR",
    "MULTIEUR",
    "NANOEUR",
    "NEAREUR",
    "NYMEUR",
    "OCEANEUR",
    "OMGEUR",
    "ORCAEUR",
    "OSMOEUR",
    "OXTEUR",
    "OXYEUR",
    "PAXGEUR",
    "PENDLEEUR",
    "PERPEUR",
    "PHAEUR",
    "PSTAKEEUR",
    "QNTEUR",
    "QTUMEUR",
    "RAREEUR",
    "RARIEUR",
    "RAYEUR",
    "RENEUR",
    "REPEUR",
    "REPV2EUR",
    "REQEUR",
    "RLCEUR",
    "RUNEEUR",
    "SAMOEUR",
    "SANDEUR",
    "SBREUR",
    "SCRTEUR",
    "SEIEUR",
    "SGBEUR",
    "SHIBEUR",
    "SNXEUR",
    "SOLEUR",
    "SPELLEUR",
    "SRMEUR",
    "STEPEUR",
    "STGEUR",
    "STORJEUR",
    "STRKEUR",
    "STXEUR",
    "SUPEREUR",
    "SUSHIEUR",
    "TEEREUR",
    "TLMEUR",
    "TRUEUR",
    "TRXEUR",
    "TUSDEUR",
    "TVKEUR",
    "UNFIEUR",
    "UNIEUR",
    "USDCEUR",
    "USDTEUR",
    "WAXLEUR",
    "WBTCEUR",
    "WENEUR",
    "WIFEUR",
    "WOOEUR",
    "XDGEUR",
    "ETCEUR",
    "XLMEUR",
    "MLNEUR",
    "REPEUR",
    "XRPEUR",
    "XTZEUR",
    "XMREUR",
    "ZECEUR",
    "YFIEUR",
    "YGGEUR",
    "ZECEUR",
    "ZETAEUR",
    "ZROEUR",
    "ZRXEUR",
  ];
}

fetchStorePrices();
